{"id":"qS4v","dependencies":[{"name":"@babel/runtime-corejs2/helpers/interopRequireDefault","loc":{"line":3,"column":37},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/helpers/interopRequireDefault.js"},{"name":"@babel/runtime-corejs2/helpers/objectSpread","loc":{"line":18,"column":52},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/helpers/objectSpread.js"},{"name":"@babel/runtime-corejs2/helpers/typeof","loc":{"line":20,"column":46},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/helpers/typeof.js"},{"name":"@babel/runtime-corejs2/helpers/slicedToArray","loc":{"line":22,"column":53},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/helpers/slicedToArray.js"},{"name":"@babel/runtime-corejs2/helpers/construct","loc":{"line":24,"column":49},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/helpers/construct.js"},{"name":"@babel/runtime-corejs2/core-js/object/define-property","loc":{"line":26,"column":53},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/node_modules/@babel/runtime-corejs2/core-js/object/define-property.js"},{"name":"./router","loc":{"line":28,"column":45},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/router.js"},{"name":"./with-router","loc":{"line":30,"column":49},"parent":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/index.js","resolved":"/Users/thanatos/projects/memory/node_modules/next-server/dist/lib/router/with-router.js"}],"generated":{"js":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._rewriteUrlForNextExport = _rewriteUrlForNextExport;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nObject.defineProperty(exports, \"withRouter\", {\n  enumerable: true,\n  get: function get() {\n    return _withRouter.default;\n  }\n});\nexports.Router = exports.createRouter = exports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/slicedToArray\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/construct\"));\n\nvar _defineProperty = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/define-property\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _withRouter = _interopRequireDefault(require(\"./with-router\"));\n/* global window */\n// Create public properties and methods of the router in the SingletonRouter\n\n\nvar urlPropertyFields = ['pathname', 'route', 'query', 'asPath'];\nvar propertyFields = ['components'];\nvar routerEvents = ['routeChangeStart', 'beforeHistoryChange', 'routeChangeComplete', 'routeChangeError', 'hashChangeStart', 'hashChangeComplete'];\nvar coreMethodFields = ['push', 'replace', 'reload', 'back', 'prefetch', 'beforePopState'];\nvar SingletonRouter = {\n  router: null,\n  // holds the actual router instance\n  readyCallbacks: [],\n  ready: function ready(cb) {\n    if (this.router) return cb();\n\n    if (typeof window !== 'undefined') {\n      this.readyCallbacks.push(cb);\n    }\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.__NEXT_ROUTER__ = window.__NEXT_ROUTER__ || SingletonRouter;\n}\n\nfunction throwIfNoRouter() {\n  if (!SingletonRouter.router) {\n    var message = 'No router instance found.\\n' + 'You should only use \"next/router\" inside the client side of your app.\\n';\n    throw new Error(message);\n  }\n}\n\nvar initialized = false;\n\nif (!initialized) {\n  initialized = true; // Events is a static property on the router, the router doesn't have to be initialized to use it\n\n  Object.defineProperty(SingletonRouter, 'events', {\n    get: function get() {\n      return _router.default.events;\n    }\n  });\n  propertyFields.concat(urlPropertyFields).forEach(function (field) {\n    // Here we need to use Object.defineProperty because, we need to return\n    // the property assigned to the actual router\n    // The value might get changed as we change routes and this is the\n    // proper way to access it\n    (0, _defineProperty.default)(SingletonRouter, field, {\n      get: function get() {\n        throwIfNoRouter();\n        return SingletonRouter.router[field];\n      }\n    });\n  });\n  coreMethodFields.forEach(function (field) {\n    SingletonRouter[field] = function () {\n      var _SingletonRouter$rout;\n\n      throwIfNoRouter();\n      return (_SingletonRouter$rout = SingletonRouter.router)[field].apply(_SingletonRouter$rout, arguments);\n    };\n  });\n  routerEvents.forEach(function (event) {\n    SingletonRouter.ready(function () {\n      _router.default.events.on(event, function () {\n        var eventField = \"on\".concat(event.charAt(0).toUpperCase()).concat(event.substring(1));\n\n        if (SingletonRouter[eventField]) {\n          try {\n            SingletonRouter[eventField].apply(SingletonRouter, arguments);\n          } catch (err) {\n            console.error(\"Error when running the Router event: \".concat(eventField));\n            console.error(\"\".concat(err.message, \"\\n\").concat(err.stack));\n          }\n        }\n      });\n    });\n  });\n}\n\nvar routerInstance = typeof window !== 'undefined' ? window.__NEXT_ROUTER__ : SingletonRouter; // Export the SingletonRouter and this is the public API.\n\nvar _default = routerInstance; // Reexport the withRoute HOC\n\nexports.default = _default; // INTERNAL APIS\n// -------------\n// (do not use following exports inside the app)\n// Create a router and assign it as the singleton instance.\n// This is used in client side when we are initilizing the app.\n// This should **not** use inside the server.\n\nvar createRouter = function createRouter() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  SingletonRouter.router = (0, _construct2.default)(_router.default, args);\n  SingletonRouter.readyCallbacks.forEach(function (cb) {\n    return cb();\n  });\n  SingletonRouter.readyCallbacks = [];\n  return SingletonRouter.router;\n}; // Export the actual Router class, which is usually used inside the server\n\n\nexports.createRouter = createRouter;\nvar Router = _router.default;\nexports.Router = Router;\n\nfunction _rewriteUrlForNextExport(url) {\n  var _url$split = url.split('#'),\n      _url$split2 = (0, _slicedToArray2.default)(_url$split, 2),\n      hash = _url$split2[1];\n\n  url = url.replace(/#.*/, '');\n\n  var _url$split3 = url.split('?'),\n      _url$split4 = (0, _slicedToArray2.default)(_url$split3, 2),\n      path = _url$split4[0],\n      qs = _url$split4[1];\n\n  path = path.replace(/\\/$/, '');\n  var newPath = path; // Append a trailing slash if this path does not have an extension\n\n  if (!/\\.[^/]+\\/?$/.test(path)) {\n    newPath = \"\".concat(path, \"/\");\n  }\n\n  if (qs) {\n    newPath = \"\".concat(newPath, \"?\").concat(qs);\n  }\n\n  if (hash) {\n    newPath = \"\".concat(newPath, \"#\").concat(hash);\n  }\n\n  return newPath;\n} // This function is used to create the `withRouter` router instance\n\n\nfunction makePublicRouterInstance(router) {\n  var instance = {};\n\n  for (var _i = 0; _i < urlPropertyFields.length; _i++) {\n    var property = urlPropertyFields[_i];\n\n    if ((0, _typeof2.default)(router[property]) === 'object') {\n      instance[property] = (0, _objectSpread2.default)({}, router[property]); // makes sure query is not stateful\n\n      continue;\n    }\n\n    instance[property] = router[property];\n  } // Events is a static property on the router, the router doesn't have to be initialized to use it\n\n\n  instance.events = _router.default.events;\n  propertyFields.forEach(function (field) {\n    // Here we need to use Object.defineProperty because, we need to return\n    // the property assigned to the actual router\n    // The value might get changed as we change routes and this is the\n    // proper way to access it\n    (0, _defineProperty.default)(instance, field, {\n      get: function get() {\n        return router[field];\n      }\n    });\n  });\n  coreMethodFields.forEach(function (field) {\n    instance[field] = function () {\n      return router[field].apply(router, arguments);\n    };\n  });\n  return instance;\n}","map":null},"hash":"8ef7a554284fb37dd29bf8a507d39b28","cacheData":{"env":{}}}